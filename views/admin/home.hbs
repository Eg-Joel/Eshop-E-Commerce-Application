
            <body onload="getChart()">
              
            
            <div class="container home-container">
             
              <div class="content">
                <div class="cards1">
                   <div class="card1">
                    <a href="/admin/view-user">
                    <div class="box">
                      <h1>{{count}}</h1>
                      <h3>Users</h3>
                    </div>
                    <div class="icon-case">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                      </svg>
                      </a>
                    </div>
                   </div>
                   <div class="card1">
                    <a href="/admin/view-products">
                    <div class="box">
                      <h1>{{pcount}}</h1>
                      <h3>Products</h3>
                    </div>
                    <div class="icon-case">
                      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
                        <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                      </svg>
                      </a>
                    </div>
                   </div>
                   <div class="card1">
                    <div class="box">
                      <h1>{{orders}}</h1>
                      <h3>Transactions</h3>
                    </div>
                    <div class="icon-case">
                      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"/>
                        <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"/>
                        <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"/>
                        <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"/>
                      </svg>
                    </div>
                   </div>
                   <div class="card1">
                    <div class="box">
                      <h1>{{totalsales}}</h1>
                      <h3>Income</h3>
                    </div>
                    <div class="icon-case">
                      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-currency-rupee" viewBox="0 0 16 16">
                        <path d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4v1.06Z"/>
                      </svg>
                    </div>
                   </div>
                  </div>
                  
       
                  <div class="col-sm-12">
                        <div class="bg-light text-center rounded p-4 col-sm-6 mx-auto">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Weekly Sales</h6>
                            </div>
                            <canvas id="weeklysales"></canvas>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xl-6">
                        <div class="bg-light text-center rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Monthly Sales</h6>
                            </div>
                            <canvas id="monthlysales"></canvas>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xl-6">
                        <div class="bg-light text-center rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Yearly Sales</h6>
                            </div>
                            <canvas id="yearlySales"></canvas>
                        </div>
                    </div>
                </div>
            </div>
                 
 
      
                </div>
              </div>
             
            </div>
 </body>

<script src="/javascripts/chart.min.js"></script>


<script>

  
       let  weekly = [0,0,0,0,0,0,0]
       let yearName = []
       let  yearly = []
       let weekName = ["Sunday","Monday","Tuesday","WednesDay","Thursday","Friday","Saturday"]
       let monthName = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
       let monthlyProfit = [0,0,0,0,0,0,0,0,0,0,0,0]
      $.ajax({
      type: "post",
      url: "/admin/graphdata",  
      success: (data)=>{
            for(i=0;i<data.data.weeklySales.length;++i){
                
                switch(data.data.weeklySales[i].date){
                    
                    case 1: 
                            weekly[0] = data.data.weeklySales[i].total
                            break;
                    case 2: 
                            weekly[1] = data.data.weeklySales[i].total
                            break;
                    case 3: 
                            weekly[2] = data.data.weeklySales[i].total
                            break;
                    case 4: 
                            weekly[3] = data.data.weeklySales[i].total
                            break;
                    case 5:
                            weekly[4] = data.data.weeklySales[i].total
                            break;
                    case 6: 
                            weekly[5] = data.data.weeklySales[i].total
                            break;
                    case 7: weekly[6] = data.data.weeklySales[i].total
                            break;
                }
            }
            for(i=0;i<data.data.monthlySales.length;++i){
                
                switch(data.data.monthlySales[i].month){                    
                    case 1: 
                            monthlyProfit[0] = data.data.monthlySales[i].total
                            break;
                    case 2: 
                            monthlyProfit[1] = data.data.monthlySales[i].total
                            break;
                    case 3: 
                            monthlyProfit[2] = data.data.monthlySales[i].total
                            break;
                    case 4: 
                            monthlyProfit[3] = data.data.monthlySales[i].total
                            break;
                    case 5:
                            monthlyProfit[4] = data.data.monthlySales[i].total
                            break;
                    case 6: 
                            monthlyProfit[5] = data.data.monthlySales[i].total
                            break;
                    case 7: 
                            monthlyProfit[6] = data.data.monthlySales[i].total
                            break;
                    case 8: 
                            monthlyProfit[7] = data.data.monthlySales[i].total
                            break;
                    case 9: 
                            monthlyProfit[8] = data.data.monthlySales[i].total
                            break;
                    case 10: 
                            monthlyProfit[9] = data.data.monthlySales[i].total
                            break;
                    case 11:
                            monthlyProfit[10] = data.data.monthlySales[i].total
                            break;
                    case 12: 
                            monthlyProfit[11] = data.data.monthlySales[i].total
                            break;
                }
            }
            for(i=0;i<data.data.yearlySales.length;++i){
                 yearName.push(data.data.yearlySales[i].year)                     
                 yearly.push(data.data.yearlySales[i].total)                     
                }
            const yearlysales = new Chart(
            document.getElementById('yearlySales'),
            yearlyconfig
            );
            const weeklysales = new Chart(
            document.getElementById('weeklysales'),
            config
            );
            const monthlysales = new Chart(
            document.getElementById('monthlysales'),
            yeralyconfig
    );
      }
});
//weekly sales
        const labels = weekName;
      
        const data = {
          labels: labels,
          datasets: [{
            label: 'Weekly sales',
            backgroundColor: 'green',
            borderColor: 'green',
            data: weekly,
          }]
        };
      
        const config = {
          type: 'line',
          data: data,
          options: {}
        };
//monthly Sales
        const months = monthName;
      
        const data1 = {
          labels: months,
          datasets: [{
            label: 'Monthly sales',
            backgroundColor: "blue",
            borderColor: 'rgb(255, 99, 132)',
            data: monthlyProfit,
          }]
        };
      
        const yeralyconfig = {
          type: 'bar',
          data: data1,
          options: {}
        };
//yearly sales
        const yearlyLabel = yearName;
      
        const data2 = {
          labels: yearlyLabel,
          datasets: [{
            label: 'Yearly sales',
            backgroundColor: 'yellow',
            borderColor: 'yellow',
            data: yearly,
          }]
        };
      
        const yearlyconfig = {
          type: 'bar',
          data: data2,
          options: {}
        };

</script>



 <script>
    
       let todayDelivered = document.getElementById('todayDelivered');
       let todayOrders = document.getElementById('todayOrders');
       let todaySales = document.getElementById('todaySales');
       let todayRevenue = document.getElementById('todayRevenue');
       
       if(todayDelivered.innerText==""){
        todayDelivered.innerText = "0"
       }
       if(todayOrders.innerText==""){
        todayOrders.innerHTML = "0"
       }
       if(todaySales.innerText==""){
        todaySales.innerHTML = "0"
       }
       if(todayRevenue.innerText==""){
        todayRevenue.innerHTML = "0"
       }
    </script>
  
